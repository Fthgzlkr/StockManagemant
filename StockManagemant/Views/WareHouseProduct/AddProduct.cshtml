@{
    ViewData["Title"] = "Ürün Stok Yönetimi";
    Layout = null;
}

    <link rel="stylesheet" href="~/css/GlobalStyles.css" asp-append-version="true" />
<div class="container mt-4">
    <h3>📦 Ürün Stok Yönetimi</h3>
    
    <!-- Ürün Arama -->
    <div class="card p-3 mb-3">
        <h5>🔍 Ürün Ara</h5>
        <div class="input-group">
            <input type="text" id="productIdInput" class="form-control" placeholder="Ürün Barkodu Girin">
            <button class="btn btn-primary" id="searchProductBtn">Ara</button>
            <input type="hidden" id="selectedProductId" name="ProductId" />
            <input type="hidden" id="selectedProductStorageType" name="ProductStorageType" />
        </div>
    </div>
    
    <!-- Ürün Detayları -->
    <div class="card p-3">
        <h5>📜 Ürün Detayları</h5>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Ürün Adı</th>
                    <th>Kategori</th>
                    <th>Fiyat</th>
                    <th>Depolama Türü</th>
                </tr>
            </thead>
            <tbody id="productDetailsTable">
                <!-- Ürün bilgileri buraya eklenecek -->
            </tbody>
        </table>
    </div>
    
    <!-- Stok Ekleme -->
    <div class="card p-3">
        <h5>➕ Depoya Stok Ekle</h5>
        
        <!-- Dinamik Lokasyon Seçimi -->
        <div class="mb-3">
            <label class="form-label">📍 Lokasyon Seç:</label>
            <div id="dynamicLocationSelectors">
                <!-- İlk seviye dropdown buraya eklenecek -->
            </div>
            
            <!-- Seçilen lokasyon yolu -->
            <div id="selectedLocationPath" class="mt-2" style="display:none;">
                <div class="alert alert-info py-2">
                    <small><strong>Seçilen lokasyon:</strong> <span id="locationBreadcrumb"></span></small>
                </div>
            </div>
            
            <!-- Depolama türü uyarısı -->
            <div id="storageTypeWarning" class="mt-2" style="display:none;">
                <div class="alert alert-warning py-2">
                    <small><i class="fas fa-exclamation-triangle"></i> <span id="storageWarningText"></span></small>
                </div>
            </div>
        </div>
        
        <input type="hidden" id="selectedLocationId" />
        
        <div class="mb-2">
            <label>Stok Miktarı:</label>
            <input type="number" id="stockQuantityInput" class="form-control" placeholder="Stok Miktarı Girin">
        </div>
        
        <div class="mb-2">
            <label>Stok Kodu:</label>
            <input type="text" id="stockCodeInput" class="form-control" placeholder="Stok Kodu Girin">
        </div>
        
        <div class="mb-2">
            <label>Açıklama:</label>
            <input type="text" id="DescriptionInput" class="form-control" placeholder="Açıklama Girin">
        </div>
        
        <button class="btn btn-success" id="addStockBtn">Stok Ekle</button>
        <div id="stockMessage" class="mt-2"></div>
    </div>
</div>