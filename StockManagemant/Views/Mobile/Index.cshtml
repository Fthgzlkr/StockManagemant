@{
    ViewData["Title"] = "Ana MenÃ¼";
    Layout = "~/Views/Shared/_MobileLayout.cshtml";
}

<div class="mobile-app">
    <!-- Header -->
    <div class="app-header">
        <div class="header-content">
            <h1>ğŸ“¦ Stok Takip</h1>
            <p>HoÅŸ geldiniz, <strong>@User.Identity.Name</strong></p>
            <span class="user-role">@User.FindFirst(System.Security.Claims.ClaimTypes.Role)?.Value</span>
        </div>
        <button class="logout-btn" onclick="logout()">
            ğŸšª Ã‡Ä±kÄ±ÅŸ
        </button>
    </div>
    
    <!-- Ana MenÃ¼ -->
    <div class="main-menu">
        <div class="menu-grid">
            <!-- ÃœrÃ¼nler -->
            <a href="/Mobile/Products" class="menu-item">
                <div class="menu-icon">ğŸ“±</div>
                <div class="menu-title">ÃœrÃ¼nler</div>
                <div class="menu-desc">ÃœrÃ¼n ekle, bul, dÃ¼zenle</div>
            </a>
            
            <!-- Depo Ä°ÅŸlemleri -->
            <a href="/Mobile/Warehouse" class="menu-item">
                <div class="menu-icon">ğŸª</div>
                <div class="menu-title">Depo Ä°ÅŸlemleri</div>
                <div class="menu-desc">Stok takip ve gÃ¼ncelleme</div>
            </a>
            
            <!-- Barkod Tarama -->
            <button class="menu-item" onclick="openBarcodeScanner()">
                <div class="menu-icon">ğŸ“·</div>
                <div class="menu-title">Barkod Tarama</div>
                <div class="menu-desc">HÄ±zlÄ± Ã¼rÃ¼n bulma</div>
            </button>
            
            <!-- Raporlar -->
            <button class="menu-item" onclick="showReports()">
                <div class="menu-icon">ğŸ“Š</div>
                <div class="menu-title">Raporlar</div>
                <div class="menu-desc">Stok durumu ve loglar</div>
            </button>
        </div>
    </div>
    
    <!-- HÄ±zlÄ± Ä°ÅŸlemler -->
    <div class="quick-actions">
        <h3>âš¡ HÄ±zlÄ± Ä°ÅŸlemler</h3>
        <div class="quick-grid">
            <button class="quick-btn" onclick="quickStockUpdate()">
                <span>ğŸ“</span>
                Stok GÃ¼ncelle
            </button>
            <button class="quick-btn" onclick="quickProductAdd()">
                <span>â•</span>
                ÃœrÃ¼n Ekle
            </button>
            <button class="quick-btn" onclick="quickSearch()">
                <span>ğŸ”</span>
                HÄ±zlÄ± Ara
            </button>
        </div>
    </div>
    
    <!-- Debug/Test AlanÄ± -->
    <div class="debug-section" style="margin-top: 30px;">
        <details>
            <summary style="cursor: pointer; padding: 10px; background: #f8f9fa; border-radius: 5px;">
                ğŸ”§ Test & Debug
            </summary>
            <div style="padding: 15px; background: #fff; border: 1px solid #dee2e6; border-radius: 0 0 5px 5px;">
                <button class="test-button" onclick="testBasic()">âœ… JavaScript Test</button>
                <button class="test-button" onclick="testAPI()">ğŸ”Œ API Test</button>
                <div id="result" class="test-result">Test sonuÃ§larÄ± burada gÃ¶rÃ¼necek...</div>
            </div>
        </details>
    </div>
</div>

@section Scripts {
    <script>
        // Logout fonksiyonu
        function logout() {
            if (confirm('Ã‡Ä±kÄ±ÅŸ yapmak istediÄŸinizden emin misiniz?')) {
                window.location.href = '/Mobile/Logout';
            }
        }
        
        // Barkod tarama
        function openBarcodeScanner() {
            alert('Barkod tarama Ã¶zelliÄŸi yakÄ±nda eklenecek! ğŸ“·');
        }
        
        // Raporlar
        function showReports() {
            alert('Raporlar sayfasÄ± yakÄ±nda hazÄ±r olacak! ğŸ“Š');
        }
        
        // HÄ±zlÄ± iÅŸlemler
        function quickStockUpdate() {
            alert('HÄ±zlÄ± stok gÃ¼ncelleme Ã¶zelliÄŸi geliÅŸtiriliyor! ğŸ“');
        }
        
        function quickProductAdd() {
            window.location.href = '/Mobile/Products';
        }
        
        function quickSearch() {
            alert('HÄ±zlÄ± arama Ã¶zelliÄŸi yakÄ±nda! ğŸ”');
        }
        
        // Test fonksiyonlarÄ± (mevcut)
        function testBasic() {
            document.getElementById('result').innerHTML = 
                'âœ… JavaScript Ã§alÄ±ÅŸÄ±yor!<br>' +
                'KullanÄ±cÄ±: @User.Identity.Name<br>' +
                'Rol: @User.FindFirst(System.Security.Claims.ClaimTypes.Role)?.Value<br>' +
                'Tarih: ' + new Date().toLocaleString('tr-TR') + '<br>' +
                'Ekran: ' + window.innerWidth + 'x' + window.innerHeight;
        }
        
        async function testAPI() {
            document.getElementById('result').innerHTML = 'ğŸ”„ API test ediliyor...';
            
            try {
                const response = await fetch('/api/Product');
                
                if (response.ok) {
                    const data = await response.json();
                    document.getElementById('result').innerHTML = 
                        'âœ… API Ã§alÄ±ÅŸÄ±yor!<br>' +
                        'Durum: ' + response.status + '<br>' +
                        'Veri: ' + JSON.stringify(data).substring(0, 100) + '...';
                } else {
                    document.getElementById('result').innerHTML = 
                        'âŒ API HatasÄ±: ' + response.status;
                }
            } catch (error) {
                document.getElementById('result').innerHTML = 
                    'âŒ BaÄŸlantÄ± HatasÄ±: ' + error.message;
            }
        }
        
        // Sayfa yÃ¼klendiÄŸinde
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Mobil uygulama yÃ¼klendi');
        });
    </script>
}